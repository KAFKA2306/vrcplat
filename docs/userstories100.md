# ユーザーストーリーバックログ

このバックログは、既存コードと `docs/requirement_draft.md` の要件に沿った
100件の差別化されたユーザーストーリーを集約し、高いUXと実現性の両立を目指し
ています。

1. **アイデンティティ** — 新規VRChatクリエイターとして、`POST /auth/link` で
   Discordを連携し、ダッシュボード到達前に同意テンプレートがプロフィールへ適用
   されるようにしたい。
2. **アイデンティティ** — 多言語ユーザーとして、リンク要求に `ja-JP` ロケールを
   渡し、`IdentityStore` がローカライズ済みセッションを返すようにしたい。
3. **アイデンティティ** — オペレーターとして、重複した連携試行が既存ユーザーへ
   解決され、外部アカウント索引が二重課金プロファイルを防ぐようにしたい。
4. **アイデンティティ** — ハンドル管理者として、サニタイズ処理で絵文字を除去し
   `^[a-z0-9_-]+$` を強制して、ダッシュボードURLのスラッグを安定させたい。
5. **アイデンティティ** — クリエイターとして、リンクペイロードに任意の表示名を
   含め、同意メールが生成ハンドルではなくステージネームを使うようにしたい。
6. **アイデンティティ** — サポート担当として、無効なプロバイダー値がZodで弾かれ
   モバイルの誤設定登録を発見しやすくしたい。
7. **アイデンティティ** — プラットフォームエンジニアとして、起動時のFastifyログ
   を有効化し、Grafanaのヘルスチェックにリアルタイム追跡を反映させたい。
8. **アイデンティティ** — プライバシーリードとして、既定の同意スコープを `false`
   で初期化し、明示的許可なしに機能が発動しないようにしたい。
9. **アイデンティティ** — 信頼性アナリストとして、`/health` が `status: ok` を返し
   稼働監視が影響前に通知されるようにしたい。
10. **アイデンティティ** — セキュリティレビュアーとして、認可コードに最小6文字
    を要求し、スクレイプや切り詰めを拒否したい。
11. **同意管理** — ダッシュボード訪問者として、同意パネルが現在のトグルを描画し
    有効スコープを一目で確認したい。
12. **同意管理** — 同意オーナーとして、チェックボックスが楽観的に更新され、
    PATCH応答前でも切り替えを即座に体感したい。
13. **同意管理** — プロダクトマーケターとして、`presence:friends` のラベルを日本語
    で説明し、相互同意の意味を伝えたい。
14. **同意管理** — QAテスターとして、未対応スコープキーがZodのカスタムエラーを
    返し、共有契約のドリフトを即検知したい。
15. **同意管理** — プライバシー担当として、スコープ更新で `updatedAt` が記録され
    監査ログが正確なバージョンを保持するようにしたい。
16. **同意管理** — バックエンドエンジニアとして、`PATCH /privacy/consent` に
    `x-user-id` ヘッダーを必須化し、誤ユーザー更新を防ぎたい。
17. **同意管理** — フレンド管理者として、`presence:self` は維持しつつ
    `presence:friends` を無効化し、自分の履歴を保ちながら友人数値を隠したい。
18. **同意管理** — コンプライアンスレビュアーとして、更新後の同意APIが完全な状態
    を返し、ダッシュボードキャッシュを整合させたい。
19. **同意管理** — アクセシビリティ推進者として、ネイティブ入力が
    `aria-checked` を公開し、スクリーンリーダーが切替を伝えられるようにしたい。
20. **同意管理** — ローカライズリードとして、スコープ説明文をコード内で一元管理し
    新しいロケールでも同じメタデータを流用したい。
21. **データ制御** — データ主体として、`POST /data/export` で希望フォーマットを
    キュー登録し、簿記用にCSVを取得したい。
22. **データ制御** — コンプライアンスリードとして、エクスポートジョブが202と
    ジョブIDを返し、要求から完了までのSLAを追跡したい。
23. **データ制御** — プライバシーエンジニアとして、削除ジョブが任意理由を受け取り
    離脱要因の傾向分析に使いたい。
24. **データ制御** — オペレーションマネージャーとして、`IdentityStore` の
    エクスポートが複数同時要求を許容し、法務用と本人用の抽出が競合しないように
    したい。
25. **データ制御** — サポート担当として、削除ジョブの初期状態が `queued` となり
    運用ダッシュボードで未処理を把握したい。
26. **データ制御** — リテンションアナリストとして、エクスポートペイロードが準備完
    了時のみ `downloadUrl` を含み、通知の死リンクを避けたい。
27. **データ制御** — ユーザーとして、削除要求が即座にジョブハンドルを返し、処理前
    にキュー登録を確認したい。
28. **データ制御** — データエンジニアとして、エクスポート形式を `json` と `csv`
    に限定し、後続インポートの実装を簡素化したい。
29. **データ制御** — プライバシーレビュアーとして、存在しないユーザー削除が404を
    返し、古いセッションを正直に報告したい。
30. **データ制御** — 監査人として、エクスポートジョブがISO形式の `requestedAt`
    を保持し、応答時間を証明したい。
31. **セッション** — サインイン済みユーザーとして、`SessionGuard` がスケルトンの
    ローダーを表示し、クッキー解決中も画面の生存感を保ちたい。
32. **セッション** — セキュリティ管理者として、未認証の訪問者へログインボタンを
    表示し、機密ダッシュボードを露出させたくない。
33. **セッション** — QAエンジニアとして、`SessionGuard` のエラーにリトライボタン
    を付与し、一時的なAPI障害から即復帰したい。
34. **セッション** — モバイルユーザーとして、フォールバックモックセッションを日
    本語化し、デザインスプリント中もコピーを確認したい。
35. **セッション** — モニタリングリードとして、セッション取得時に `cache: no-store`
    を設定し、古い資格情報がキャッシュに残らないようにしたい。
36. **セッション** — プライバシーテスターとして、APIが204を返した場合に
    `useSession` が null を返し、サインアウト状態を誤認しないようにしたい。
37. **セッション** — デベロッパーアドボケイトとして、セッション設定がログインURL
    を公開し、外部デモで同じガードを再利用したい。
38. **セッション** — アクセシビリティレビュアーとして、サインインカードに見出しを
    持たせ、スクリーンリーダーが認証必須を明示するようにしたい。
39. **セッション** — プロダクトデザイナーとして、セッションのクエリをウィンドウ
    フォーカス時に再フェッチし、他タブで同意を切り替えた直後の反映を保証したい。
40. **セッション** — ローカライズテスターとして、フォールバックアバターにレトロな
    アイデンティコンを使い、空プロフィールでも愛着を演出したい。
41. **プレゼンス** — プレゼンス投稿者として、`leftAt` が `enteredAt` より前なら
    スキーマが拒否し、負の滞在時間を防ぎたい。
42. **プレゼンス** — Companion開発者として、セッションに `source: beacon` を許可し
    ハードウェアビーコンと手動アップロードを同一フィードで扱いたい。
43. **プレゼンス** — プライバシーリードとして、可視性を既定で `private` に設定し
    ユーザーが共有するまでセッションを秘匿したい。
44. **プレゼンス** — ダッシュボード閲覧者として、パネルをアクティブと履歴で分割し
    即合流と過去調査を切り分けたい。
45. **プレゼンス** — VRChat主催者として、各行にワールドIDとインスタンスIDを表示
    し、参加リンクを迷わず生成したい。
46. **プレゼンス** — 地域ユーザーとして、`Intl.DateTimeFormat('ja-JP')` で時間を整形
    し、ローカルタイムゾーンに揃えたい。
47. **プレゼンス** — キャパシティプランナーとして、アクティブ一覧を6件に制限し、
    モバイル表示の崩れを防ぎたい。
48. **プレゼンス** — リテンションアナリストとして、最近セッションを10件に抑え、
    イベント時もカードを読みやすくしたい。
49. **プレゼンス** — インポートテスターとして、フェッチ時に認証情報を送信し、保護
    されたセッションを自分のアカウントに限定したい。
50. **プレゼンス** — モニタリングエンジニアとして、プレゼンス取得を15秒間隔で
    更新し、ビーコンのリアルタイム性と帯域を両立したい。
51. **プレゼンス** — ミートアップ主催者として、友達表示に相互同意を強制し、承諾済
    みペアだけがアクティブリストへ現れるようにしたい。
52. **プレゼンス** — トラベラーとして、Companionのpingで `world_id` 文字列を補完し
    人が読めるパンくずを保持したい。
53. **プレゼンス** — スコードリーダーとして、友達が同一ワールドに居る際に
    `PresenceLamp` バッジが点灯し、素早く集合したい。
54. **プレゼンス** — オンボーディングコーチとして、空の状態ではCompanion連携を提
    案し、新規ユーザーに未表示理由を伝えたい。
55. **プレゼンス** — プライバシー擁護者として、現実座標を保存しないことをツール
    チップで再認識させ、信頼を維持したい。
56. **プレゼンス** — パワーユーザーとして、プレゼンス履歴を推薦シグナルへ渡し、
    Loadout AIが馴染みのロケーションを優先するようにしたい。
57. **プレゼンス** — スケジューラーとして、匿名化したプレゼンスログを
    `docs/assets/` に保存し、ワークショップで実データを扱わないようにしたい。
58. **プレゼンス** — モデレーターとして、プレゼンスと通報時刻を突合し、事案の初動
    を迅速化したい。
59. **プレゼンス** — リサーチャーとして、VRCXインポートに同意スコープをタグ付けし
    履歴が初期状態からプライバシー設定を尊重するようにしたい。
60. **プレゼンス** — アクセシビリティコーチとして、ホバー状態のコントラストを上げ
    視認性の低い利用者でもアクティブセッションを判別したい。
61. **購入管理** — グッズ収集家として、`PurchaseRecord` にストアアイコンを保持し、
    各アイテムの取得元を一目で理解したい。
62. **購入管理** — 経理担当として、金額をISO 4217通貨コードで検証し、レポートの法
    令順守を確保したい。
63. **購入管理** — クリエイターとして、購入をアバターバージョンへ紐付けし、
    Loadoutの推薦に所有済み衣装を反映させたい。
64. **購入管理** — QAエンジニアとして、Webhookが `receiptRef` で重複排除し、チャ
    ネルを跨いだ注文でも売上を二重計上しないようにしたい。
65. **購入管理** — スタイリストとして、購入メタデータに最大4件のメディアURLを保
    持し、ダッシュボード内でプレビューを表示したい。
66. **購入管理** — 支援者として、`purchases:self` 同意で一覧を制御し、センシティブ
    な支援履歴を秘匿したい。
67. **購入管理** — モビリティユーザーとして、購入フィルターが100ms以内に応答し、
    生配信中でもカタログを快適に操作したい。
68. **購入管理** — プロダクトストラテジストとして、CVIとUEI指標を購入データへ連携
    し、成長レポートで支出と効果を関連付けたい。
69. **購入管理** — ロードアウトキュレーターとして、保存したプリセットが対応する
    ワールド候補を記憶し、1クリックでイベントを起動したい。
70. **購入管理** — アバターデザイナーとして、メールインポーターが手動領収書を正規
    化し、オフプラットフォームの依頼もタイムラインに組み込みたい。
71. **アバターディフ** — メンテナーとして、`avatar:diff` 同意のオンでバージョン時
    系が開き、共同制作者が更新を追跡できるようにしたい。
72. **アバターディフ** — クレジット管理者として、Diff APIが自動でライセンスURLを
    補完し、リファクタ後も帰属表示を正確に保ちたい。
73. **アバターディフ** — QAテスターとして、Diffペイロードが `mesh_added` や
    `physbone_edit` を列挙し、更新後のリグレッション範囲を特定したい。
74. **アバターディフ** — マーケット審査担当として、非公開アバターがDiffメタを隠
    し、未公開デザインを秘匿したい。
75. **アバターディフ** — 資産監査人として、Diffレコードに作成時刻を刻み、ライセ
    ンス紛争を時系列で証明したい。
76. **アバターディフ** — コラボリードとして、アバターバージョンカードに変更ノー
    トを表示し、再インポートの判断材料にしたい。
77. **アバターディフ** — ローカライズ編集者として、Diffラベルが共有Enumを再利用
    し、ダッシュボード全体の整合性を保ちたい。
78. **アバターディフ** — ストーリーテラーとして、Diffタイムラインと購入エントリを
    相互リンクし、ファンが変更の着想元を把握できるようにしたい。
79. **アバターディフ** — コンプライアンスレビュアーとして、Diffスコープが既定で
    オフとなり、明示したクリエイターのみが改変詳細を共有できるようにしたい。
80. **アバターディフ** — データサイエンティストとして、Diffペイロードをエクスポ
    ートバンドルへ含め、長期トレンド分析に活用したい。
81. **イベント** — イベントホストとして、`event:write` 同意でリンク作成を制御し、
    未承認ダッシュボードからの招待スパムを防ぎたい。
82. **イベント** — スケジューリングアシスタントとして、`POST /events` が `start_at`
    とタグを記録し、転換率の高いスロットを可視化したい。
83. **イベント** — マーケティングリードとして、ピン留め告知が `profile:pin` 同意を
    尊重し、ヒーローメッセージの主導権を保持したい。
84. **イベント** — ソーシャルメディアマネージャーとして、`post:write` 同意を
    マルチポストスケジューラへ接続し、ネットワーク横断ローンチを同期したい。
85. **イベント** — 参加者として、イベントカードからワールド起動パラメーターを渡
    し、手作業コピーを省きたい。
86. **探索** — ディスカバリーファンとして、`GET /search` が意味検索と全文検索を
    組み合わせ、曖昧な記憶でもコンテンツを探したい。
87. **探索** — データアナリストとして、`SmartFeed` が同意OFF時にエントリを抑制し、
    推薦がプライバシーに整合するようにしたい。
88. **トラスト** — モデレーターとして、通報送信で投稿が10秒以内に非表示となり、
    有害コンテンツを即座に隠したい。
89. **イベント** — ローカライズテスターとして、ピン告知エディタのツールチップを
    日本語化し、ホストがUIを安心して使えるようにしたい。
90. **探索** — リテンションストラテジストとして、ロードアウト推薦が購入履歴を参照
    し、支持者が既に愛用する衣装を提案したい。
91. **運用** — SREとして、全サービスがOpenTelemetryを公開し、インシデント時にトレ
    ースを横断で確認したい。
92. **運用** — コンプライアンス担当として、監査ログをエントリ単位でハッシュ化し、
    改ざん試行を即検知したい。
93. **運用** — プライバシー擁護者として、保持期間を明文化し、同意画面が適切な政策
    へリンクするようにしたい。
94. **運用** — ローカライズマネージャーとして、ダッシュボードプロバイダーがja/en
    バンドルをロードし、言語切替でアプリシェルを再読込させたくない。
95. **運用** — アクセシビリティテスターとして、ダッシュボードピルにキーボードフォ
    カスのアウトラインを付け、WCAG 2.1 AAへ適合させたい。
96. **運用** — サポートスペシャリストとして、ドキュメントで匿名化ペイロードを提供
    し、トラブルシュートでライブデータを扱わないようにしたい。
97. **運用** — パフォーマンスエンジニアとして、ダッシュボードパネルを遅延ロードし
    ミドルレンジヘッドセットでもLCPを2.5秒未満に抑えたい。
98. **運用** — セキュリティアーキテクトとして、`/auth/link` にレート制限を敷き、
    ボットネットによるOAuthコード総当たりを阻止したい。
99. **運用** — グロースPMとして、KPIダッシュボードで `合流率` を追跡し、ミートアッ
    プ成功度を定量化したい。
100. **運用** — エシカルリードとして、オプトアウトフローが60秒以内にキャッシュを
     失効させ、ユーザーが即時撤回を信頼できるようにしたい。
